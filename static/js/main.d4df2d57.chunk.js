(this.webpackJsonpinvestimentos=this.webpackJsonpinvestimentos||[]).push([[0],{30:function(A,e,t){"use strict";t.r(e),e.default=t.p+"static/media/investimento.32f2c201.png"},39:function(A,e,t){},40:function(A,e,t){},65:function(A,e,t){},67:function(A,e,t){},68:function(A,e,t){"use strict";t.r(e);var n=t(1),c=t.n(n),r=t(31),s=t.n(r),a=t(16),i=t(2),o=t(8),l=Object(n.createContext)({}),u=function(){var A=Object(n.useState)({}),e=Object(o.a)(A,2),t=e[0],c=e[1],r=Object(n.useState)(!1),s=Object(o.a)(r,2),a=s[0],i=s[1];return Object(n.useEffect)((function(){var A=localStorage.getItem("investimentos@user"),e=A&&JSON.parse(A);c(e),e||function(A){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return-1!==t.map((function(e){return e===A})).indexOf(!0)}(window.location.pathname,"/investimentos/login","/investimentos/register")||i(!0)}),[window.location.href]),{user:t,redirect:a}},d=(t(39),t(9)),j=(t(40),t(0)),b=function(A){return Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:A.id,className:"sr-only",children:A.title}),Object(j.jsx)("input",Object(d.a)(Object(d.a)({},A),{},{className:"btn",placeholder:A.title}))]})},m=function(A){return Object(j.jsx)("div",{className:"text-sm",children:Object(j.jsx)(a.b,{to:A.to,className:"font-medium text-indigo-600 hover:text-indigo-500",children:A.title})})},g=t(11),f=function(){var A=Object(i.f)();return{login:Object(n.useCallback)((function(e){localStorage.setItem("investimentos@user",JSON.stringify(e)),A.replace("/")}),[A]),logout:Object(n.useCallback)((function(){localStorage.removeItem("investimentos@user"),A.replace("/login")}),[A])}},x=t(34),h={baseUrl:"https://meusinvestimentosapi.herokuapp.com"},p=t.n(x).a.create({baseURL:h.baseUrl}),O=function(){var A=function(){var A=f().login,e=Object(n.useState)({login:"",senha:""}),t=Object(o.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)({hasError:!1,message:""}),a=Object(o.a)(s,2),i=a[0],l=a[1];return{updateForm:Object(n.useCallback)((function(A){var e=A.target,t=Object(d.a)(Object(d.a)({},c),{},Object(g.a)({},e.name,e.value));r(t)}),[c]),submitLoginForm:Object(n.useCallback)((function(){p.post("/api/usuarios/auth",c).then((function(e){var t=e.data;A(t)})).catch((function(A){var e,t=(null===(e=A.response.data)||void 0===e?void 0:e.errors)||["500"];l({hasError:!0,message:t.join("\n")})}))}),[c]),error:i,formData:c}}(),e=A.updateForm,c=A.submitLoginForm,r=A.formData,s=A.error;return Object(j.jsx)("div",{className:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:Object(j.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"mx-auto h-12 w-auto",src:t(30).default,alt:"Workflow"}),Object(j.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),Object(j.jsxs)("div",{className:"mt-8 space-y-6",children:[Object(j.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(j.jsx)(b,{id:"login",name:"login",type:"username",required:!0,title:"Login",onChange:e,value:r.login}),Object(j.jsx)(b,{id:"senha",name:"senha",type:"password",required:!0,title:"Password",onChange:e,value:r.senha})]}),Object(j.jsx)("div",{hidden:!s.hasError,children:Object(j.jsx)("p",{className:"text-red-600",children:s.message})}),Object(j.jsx)("div",{children:Object(j.jsxs)("button",{type:"submit",onClick:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(j.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(j.jsx)("i",{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Sign in"]})}),Object(j.jsx)("div",{className:"flex items-center justify-center",children:Object(j.jsx)(m,{title:"Don't have an account?",to:"/register"})})]}),Object(j.jsxs)("div",{children:["\xcdcones feitos por ",Object(j.jsx)("a",{href:"https://www.flaticon.com/br/autores/iconpro86",title:"Iconpro86",children:"Iconpro86"})," from ",Object(j.jsx)("a",{href:"https://www.flaticon.com/br/",title:"Flaticon",children:"www.flaticon.com"})]})]})})},v=Object(i.g)((function(){var A=function(){var A=f().login,e=Object(n.useState)({email:"",login:"",nome:"",senha:"",senhaConfirmacao:""}),t=Object(o.a)(e,2),c=t[0],r=t[1],s=Object(n.useCallback)((function(A){var e=A.target,t=Object(d.a)(Object(d.a)({},c),{},Object(g.a)({},e.name,e.value));r(t)}),[c]),a=Object(n.useCallback)((function(){p.post("/api/usuarios",c).then((function(e){var t=e.data;A(t)})).catch(console.log)}),[c]);return{formData:c,updateForm:s,submitRegisterForm:a}}(),e=A.formData,c=A.submitRegisterForm,r=A.updateForm;return Object(j.jsx)("div",{className:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:Object(j.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"mx-auto h-12 w-auto",src:t(30).default,alt:"Workflow"}),Object(j.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),Object(j.jsxs)("div",{className:"mt-8 space-y-6",children:[Object(j.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(j.jsx)(b,{id:"email",name:"email",type:"email",required:!0,title:"Email address",onChange:r,value:e.email}),Object(j.jsx)(b,{id:"login",name:"login",type:"username",required:!0,title:"Login name",onChange:r,value:e.login}),Object(j.jsx)(b,{id:"nome",name:"nome",required:!0,title:"Full Name",onChange:r,value:e.nome}),Object(j.jsx)(b,{id:"senha",name:"senha",type:"password",required:!0,title:"Password",onChange:r,value:e.senha}),Object(j.jsx)(b,{id:"senhaConfirmacao",name:"senhaConfirmacao",type:"password",required:!0,title:"Password confirm",onChange:r,value:e.senhaConfirmacao})]}),Object(j.jsx)("div",{children:Object(j.jsxs)("button",{type:"submit",onClick:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(j.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(j.jsx)("i",{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})}),"Sign up"]})}),Object(j.jsx)("div",{className:"flex items-center justify-center",children:Object(j.jsx)(m,{title:"Already have an account?",to:"/login"})})]})]})})})),C=(t(65),function(A){var e=f().logout,t=Object(n.useContext)(l).user;return Object(j.jsxs)("div",{className:"min-h-screen",children:[Object(j.jsx)("header",{className:"bg-white shadow",children:Object(j.jsxs)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8 flex justify-between",children:[Object(j.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Bem vindo(a),",Object(j.jsx)("wbr",{})," ",(null===t||void 0===t?void 0:t.nome)||"Usu\xe1rio","!"]}),Object(j.jsx)("button",{className:"logout",onClick:e,children:"Logout"})]})}),Object(j.jsx)("main",{children:Object(j.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:A.children})})]})}),I=t(13),E=t.n(I),w=t(20),B=function(A){return{searchPortfolio:function(){var A=Object(w.a)(E.a.mark((function A(){var e,t;return E.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,p.get("/api/carteira");case 3:return e=A.sent,t=e.data,A.abrupt("return",t.content);case 8:return A.prev=8,A.t0=A.catch(0),console.log(A.t0),A.abrupt("return",[]);case 12:case"end":return A.stop()}}),A,null,[[0,8]])})));return function(){return A.apply(this,arguments)}}(),createPortifolio:A&&function(){var e=Object(w.a)(E.a.mark((function e(t){var n,c,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={descricao:t,idUsuario:null===A||void 0===A?void 0:A.id},e.next=3,p.post("/api/carteira",n);case 3:c=e.sent,r=c.data,console.log(r);case 6:case"end":return e.stop()}}),e)})));return function(A){return e.apply(this,arguments)}}(),sumTransactions:function(A){return A.map((function(A){return A.total})).reduce((function(A,e){return A+e}),0)}}},S=function(A){return A.toLocaleString("pt-br",{currency:"BRL",style:"currency"})},y=(t(67),function(A){var e=A.portfolio,t=A.icon,n=A.title,c=A.transactions,r=A.onClick,s=B().sumTransactions(c);return Object(j.jsxs)("button",{onClick:function(){return r(e)},className:"bg-gray-50 py-5 pr-5 rounded-md flex hover:bg-gray-300 cursor-pointer",children:[Object(j.jsx)("div",{className:"left-bar"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"flex space-x-5",children:[Object(j.jsx)("img",{height:32,width:32,src:t,alt:"Renda fixa icone"}),Object(j.jsx)("h3",{className:"text-xl font-bold",children:n})]}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{title:"Total investido nesta carteira",className:"text-lg font-medium",children:S(s)})})]})]})}),N=t.p+"static/media/interest-rate.78adf9ed.png",Q=Object(n.createContext)({portfolio:null}),k=function(A){var e=A.onClick;return Object(j.jsxs)("button",{onClick:e,className:"bg-gray-50 py-5 pr-5 rounded-md flex hover:bg-gray-300 cursor-pointer",children:[Object(j.jsx)("div",{className:"left-bar"}),Object(j.jsxs)("div",{className:"flex space-x-5 items-center justify-center h-full",children:[Object(j.jsx)("img",{height:32,width:32,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABROAAAUTgE5c6xCAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAIpQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHzto8AAAAC10Uk5TAAwNDxAREhUZGx4hJig1REZHSVNoamtthpiZmp+hpqyxsrPS0+Hj5OXq7vf+vBaNIQAABV9JREFUeNrt2VtvGlcUgNEzAwxX4zhRKU7a/v//VVmgVI0CZoyNPZAEN5S8RgoDs9d6MEY8bM3m0+GWpcYYjAbtovXLx1SbbbkqG7O1rCkX0r59c8Jpi9mzAM7KzaQ46bznj5+asbhWMzJ+Pz3xhbTGnZUAzsZfN6ef2e8uBHAm3v1Wx9RetW7A7vIGXEN3Us/cSVcAZ2HarumDx1QA52A8jjdZAEcGIUcL4GAYcrQA/n83HnK0AL4raryEvBBA/QGEHS6AvSzscAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAuAntI/vFEV2eVfQqXX41eUtbLfZHN07POPjwbDnOIhh+1g+LH8MoDsd20soy/nT/ra1//vuj76VxNK93q2/nwDZn9cWEtDi793rCfDhxjIi6rXv9wG8/d0uYuq/rFOeOhObiGrS+RrAbcciourcpnzoDWBg18N8ZAuRjfKhJUQ2zH39G1qeF5YQWZG3LCGylleA6K8BViAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAhCAFQgAASAABIAAEAACQAAIgAgBVHYQWZVvLCGyTb61hMi2eWkJkZX5yhIiW+XlwhbiWpR5mj3bQ1TPs9RK2+3YJoKal18DSOtO3ypC+vQxfQsgrbo9y4j4BuAuvQaQFlXfV8LRvMzn326y13vdqTcCsSznT+kogJTGg2HPMRDD9rF8WP73f3b8QFFkl3c1nQ81Dr+7wM/Qu83x7z/t44c2l/jL0FWtH6TvL/00cOoHJwABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAABIAAEgAAQwAXahR0ugL1N2OECeH0OtvXN3grgDDyGHC2AgzLkaAEcPIQcLYCD5TLeZAEcm7/UM/dl3oDltRpwDdXuqp7w7gVwHta9Xg1TF004AJoRQFrmg5PP/PcuCeBsrJ667ZMOfJr904zNZakh8tub013L7vOsSgI4M73RqF38+hOt2lSr1boxW/sCQeSIXzQSWMQAAAAASUVORK5CYII=",alt:"Renda fixa icone"}),Object(j.jsx)("h3",{className:"text-xl font-bold",children:"Adicionar"})]})]})},F=Object(i.g)((function(){var A=function(){var A=Object(n.useContext)(l).user,e=Object(n.useMemo)((function(){return B(A)}),[A]),t=Object(n.useState)(null),c=Object(o.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)([]),i=Object(o.a)(a,2),u=i[0],d=i[1];Object(n.useEffect)((function(){(null===A||void 0===A?void 0:A.id)&&e.searchPortfolio().then(d).catch(console.error)}),[e]);var j=Object(n.useMemo)((function(){return u.map((function(A){return A.transacoes.reduce((function(A,e){return e.total+A}),0)})).reduce((function(A,e){return A+e}),0)}),[u]),b=Object(n.useCallback)((function(A){s(A)}),[r]);return{portfolios:u,consolidatedAssets:j,currentPortfolio:r,selectPortfolio:b}}();return Object(j.jsxs)(C,{children:[Object(j.jsxs)("h2",{className:"text-3xl font-bold",children:[Object(j.jsx)("small",{className:"font-medium",children:"Patrim\xf4nio consolidado"}),Object(j.jsx)("br",{}),S(A.consolidatedAssets)]}),Object(j.jsx)("h3",{className:"text-xl my-5 font-bold",children:"Carteiras"}),Object(j.jsx)(Q.Provider,{value:{portfolio:A.currentPortfolio},children:Object(j.jsxs)("div",{className:"mt-5 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5",children:[A.portfolios.map((function(e,t){return Object(j.jsx)(y,{portfolio:e,icon:N,title:e.descricao,transactions:e.transacoes,onClick:A.selectPortfolio},t)})),Object(j.jsx)(k,{onClick:function(){}})]})})]})})),J=function(){return Object(j.jsxs)("div",{className:"text-center p-10 bg-gray-200",children:["Icons made by",Object(j.jsx)("a",{href:"https://www.flaticon.com/authors/fzyn",title:"fzyn",children:"fzyn"})," and"," ",Object(j.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",children:"Freepik"})," and"," ",Object(j.jsx)("a",{href:"https://www.flaticon.com/br/autores/iconpro86",title:"Iconpro86",children:"Iconpro86"})," from",Object(j.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",children:"www.flaticon.com"})]})};var R=function(){var A=u(),e=A.redirect,t=A.user;return Object(j.jsxs)(a.a,{basename:"/investimentos",children:[Object(j.jsxs)(l.Provider,{value:{user:t},children:[Object(j.jsx)(i.b,{path:"/",exact:!0,component:F}),Object(j.jsx)(i.b,{path:"/login",component:O}),Object(j.jsx)(i.b,{path:"/register",component:v}),e&&Object(j.jsx)(i.a,{to:"/login"})]}),Object(j.jsx)(J,{})]})},P=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,69)).then((function(e){var t=e.getCLS,n=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;t(A),n(A),c(A),r(A),s(A)}))};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(R,{})}),document.getElementById("root")),P()}},[[68,1,2]]]);
//# sourceMappingURL=main.d4df2d57.chunk.js.map